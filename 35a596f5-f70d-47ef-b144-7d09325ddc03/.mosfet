{
  "layout": "Bar",
  "rdbmsId": "35a596f5-f70d-47ef-b144-7d09325ddc03",
  "hidden": false,
  "insightName": "What are the modifications made to specific column(s)?",
  "recipe": "AddPanel(0); Panel ( 0 ) | SetPanelView ( \"param\" , \"\u003cencode\u003e {\"json\":[  {    \"query\": \"AddPanel ( 0 ) ;Panel ( 0 ) | AddPanelConfig ( config \u003d [ { \\\"config\\\" : { \\\"type\\\" : \\\"STANDARD\\\" , \\\"opacity\\\" : 100 } } ] ) ;Panel ( 0 ) | AddPanelEvents ( { \\\"onSingleClick\\\" : { \\\"Unfilter\\\" : [ { \\\"panel\\\" : \\\"\\\" , \\\"query\\\" : \\\"\u003cencode\u003eUnfilterFrame(\u003cSelectedColumn\u003e);\u003c/encode\u003e\\\" , \\\"options\\\" : { } , \\\"refresh\\\" : false , \\\"default\\\" : true , \\\"disabledVisuals\\\" : [ \\\"Grid\\\" , \\\"Sunburst\\\" ] , \\\"disabled\\\" : false } ] } , \\\"onBrush\\\" : { \\\"Filter\\\" : [ { \\\"panel\\\" : \\\"\\\" , \\\"query\\\" : \\\"\u003cencode\u003eif(IsEmpty(\u003cSelectedValues\u003e), UnfilterFrame(\u003cSelectedColumn\u003e), SetFrameFilter(\u003cSelectedColumn\u003e\u003d\u003d\u003cSelectedValues\u003e));\u003c/encode\u003e\\\" , \\\"options\\\" : { } , \\\"refresh\\\" : false , \\\"default\\\" : true , \\\"disabled\\\" : false } ] } } ) ;Panel ( 0 ) | RetrievePanelEvents ( ) ;Panel ( 0 ) | SetPanelView ( \\\"visualization\\\" , \\\"\u003cencode\u003e{\\\"type\\\":\\\"echarts\\\"}\u003c/encode\u003e\\\" ) ;AuditDatabase ( app \u003d [ \\\"911bf0e9-0378-45bd-9461-87238e9d3b2f\\\"],tables\u003d[\u003cTable\u003e], columns\u003d [\u003cAltered_Column\u003e] );Panel ( 0 ) | Clone ( 1 ) ;Panel ( 1 ) | SetPanelView ( \\\"visualization\\\" ) ;Panel ( 1 ) | AddPanelConfig ( config \u003d [ { \\\"config\\\" : { \\\"subType\\\" : \\\"\\\" } } ] ) ;Panel ( 1 ) | SetPanelView ( \\\"visualization\\\" , \\\"\u003cencode\u003e{\\\"type\\\":\\\"echarts\\\"}\u003c/encode\u003e\\\" ) ;if ( ( HasDuplicates ( Modification_Type ) ) , ( Select ( Modification_Type , UniqueCount ( Modification_Date ) ) .as ( [ Modification_Type , UniqueCountofModification_Date ] ) | Group ( Modification_Type ) | With ( Panel ( 1 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \\\"1\\\" : { \\\"layout\\\" : \\\"Column\\\" , \\\"alignment\\\" : { \\\"label\\\" : [ \\\"Modification_Type\\\" ] , \\\"value\\\" : [ \\\"UniqueCountofModification_Date\\\" ] , \\\"tooltip\\\" : [ ] , \\\"facet\\\" : [ ] } } } ) | Collect ( 500 ) ) , ( Select ( Modification_Type , Count ( Modification_Date ) ) .as ( [ Modification_Type , CountofModification_Date ] ) | Group ( Modification_Type ) | With ( Panel ( 1 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \\\"1\\\" : { \\\"layout\\\" : \\\"Column\\\" , \\\"alignment\\\" : { \\\"label\\\" : [ \\\"Modification_Type\\\" ] , \\\"value\\\" : [ \\\"CountofModification_Date\\\" ] , \\\"tooltip\\\" : [ ] , \\\"facet\\\" : [ ] } } } ) | Collect ( 500 ) ) ) ;Panel ( 0 ) | SetPanelView ( \\\"visualization\\\" , \\\"\u003cencode\u003e{\\\"type\\\":\\\"standard\\\"}\u003c/encode\u003e\\\" ) ;Panel(0)|SetPanelView(\\\"text-widget\\\", \\\"\u003cencode\u003e{\\\"html\\\":\\\"\u003cstyle\u003e\\n    #TextWidget .container {\\n        margin-left: 20px;\\n        margin-top: 10px;\\n        display: inline-flex;\\n    }\\n\\n    #TextWidget .mod-container {\\n        background-color: #033d84;\\n        color: white;\\n        height: 100px;\\n    }\\n\\n    #TextWidget .mod-info {\\n        margin-left: 35px;\\n    }\\n\\n    #TextWidget .total-mod {\\n        font-size: xx-large;\\n    }\\n\\n    #TextWidget .Col-Header {\\n        color: #143f5b;\\n    }\\n\\n    #TextWidget .audit-container {\\n        /* float: left; */\\n        /* height: 100%; */\\n        display: inline-grid;\\n        overflow: auto;\\n    }\\n\\n    #TextWidget .audit-output {\\n        margin: 10px 5px;\\n        /* margin-bottom: 10px;\\n        margin-top: 25px; */\\n        /* height: 130px; */\\n    }\\n\\n    /* #TextWidget .audit-constants {\\n        border-bottom: 2px solid black;\\n    } */\\n\\n    #TextWidget .audit-values {\\n        padding: 10px 0;\\n    }\\n\\n    #TextWidget .Audit-Element {\\n        margin-top: -3px;\\n        margin-bottom: -3px;\\n        color: #323a45;\\n    }\\n\\n    #TextWidget .audit-type {\\n        position: relative;\\n        float: left;\\n        width: 40px;\\n        /* height: 130px; */\\n        margin-right: 5px;\\n    }\\n\\n    #TextWidget .audit-type-text {\\n        position: absolute;\\n        width: 100%;\\n        color: white;\\n        top: 45%;\\n        left: 50%;\\n        transform: translateX(-50%) translateY(-50%) rotate(-90deg);\\n    }\\n\\n    #TextWidget .type-insert {\\n        background-color: green;\\n        height: 100%;\\n        /* height: 130px; */\\n    }\\n\\n    #TextWidget .type-delete {\\n        background-color: red;\\n        height: 100%;\\n        /* height: 130px; */\\n    }\\n\\n    #TextWidget .type-update {\\n        background-color: blue;\\n        height: 100%;\\n        /* height: 130px; */\\n    }\\n\\n    #TextWidget .arrow {\\n        margin-left: 7px;\\n        margin-right: 8px;\\n        font-weight: bolder;\\n    }\\n\u003c/style\u003e\\n\u003cdiv class\u003d\\\\\\\"big-container\\\\\\\"\u003e\\n    \u003cdiv class\u003d\\\\\\\"mod-container\\\\\\\" ng-repeat\u003d\\\\\\\"Mod in Audit_Mods[0].output.data.values\\\\\\\"\u003e\\n        \u003cdiv class\u003d\\\\\\\"mod-info\\\\\\\"\u003e\\n            \u003cp class\u003d\\\\\\\"total-mod\\\\\\\"\u003e{{ Mod[0] }}\u003cbr /\u003eTotal Modifications\u003c/p\u003e\\n        \u003c/div\u003e\\n    \u003c/div\u003e\\n    \u003cdiv class\u003d\\\\\\\"audit-container\\\\\\\"\u003e\\n        \u003cdiv class\u003d\\\\\\\"container\\\\\\\" ng-repeat\u003d\\\\\\\"Aud in Audits[0].output.data.values\\\\\\\"\u003e\\n            \u003cdiv class\u003d\\\\\\\"audit-type\\\\\\\"\u003e\\n                \u003cdiv\\n                    ng-class\u003d\\\\\\\"{\u0027type-insert\u0027: Aud[2] \u003d\u003d \u0027INSERT\u0027, \u0027type-delete\u0027: Aud[2] \u003d\u003d \u0027DELETE\u0027, \u0027type-update\u0027: Aud[2] \u003d\u003d \u0027UPDATE\u0027}\\\\\\\"\u003e\\n                    \u003cspan class\u003d\\\\\\\"span-type-bar\\\\\\\"\u003e\u003c/span\u003e\\n                    \u003ch3 class\u003d\\\\\\\"audit-type-text\\\\\\\"\u003e{{ Aud[2] | replaceUnderscores }}\u003c/h3\u003e\\n                \u003c/div\u003e\\n            \u003c/div\u003e\\n            \u003cdiv class\u003d\\\\\\\"audit-output\\\\\\\"\u003e\\n                \u003cdiv class\u003d\\\\\\\"audit-constants\\\\\\\"\u003e\\n                    \u003ch3 class\u003d\\\\\\\"Audit-Element\\\\\\\"\u003e \u003cspan class\u003d\\\\\\\"Col-Header\\\\\\\"\u003eModification Date\u003c/span\u003e:\\n                        {{ Aud[0] | replaceUnderscores }}\u003c/h3\u003e\\n                    \u003ch3 class\u003d\\\\\\\"Audit-Element\\\\\\\"\u003e\u003cspan class\u003d\\\\\\\"Col-Header\\\\\\\"\u003eUser Email\u003c/span\u003e:\\n                        {{ Aud[1] }}\u003c/h3\u003e\\n                    \u003ch3 class\u003d\\\\\\\"Audit-Element\\\\\\\"\u003e \u003cspan class\u003d\\\\\\\"Col-Header\\\\\\\"\u003eKey Column Value\u003c/span\u003e:\\n                        {{ Aud[4] | replaceUnderscores }}\u003c/h3\u003e\\n                \u003c/div\u003e\\n                \u003cdiv ng-repeat\u003d\\\\\\\"Audit in Audit_Table[0].output.data.values\\\\\\\" \u003e\\n                    \u003cdiv ng-if\u003d\u0027Aud[3] \u003d\u003d Audit[7]\u0027 class\u003d\\\\\\\"audit-values\\\\\\\"\u003e\\n                        \u003ch3 class\u003d\\\\\\\"Audit-Element\\\\\\\"\u003e \u003cspan class\u003d\\\\\\\"Col-Header\\\\\\\"\u003eAltered Column\u003c/span\u003e:\\n                            {{ Audit[0] | replaceUnderscores }}\u003c/h3\u003e\\n                        \u003ch3 class\u003d\\\\\\\"Audit-Element\\\\\\\"\u003e\u003cspan class\u003d\\\\\\\"Col-Header\\\\\\\"\u003eOld Value\u003c/span\u003e: {{ Audit[2] | replaceUnderscores }}\\n                            \u003cspan class\u003d\\\\\\\"arrow\\\\\\\"\u003e\u0026rArr;\u003c/span\u003e\u003cspan class\u003d\\\\\\\"Col-Header\\\\\\\"\u003eNew Value\u003c/span\u003e:\\n                            {{ Audit[3] | replaceUnderscores }}\u003c/h3\u003e\\n                    \u003c/div\u003e\\n                \u003c/div\u003e\\n            \u003c/div\u003e\\n        \u003c/div\u003e\\n    \u003c/div\u003e\\n\u003c/div\u003e\\\",\\\"varList\\\":[{\\\"name\\\":\\\"Audit_Table\\\",\\\"query\\\":\\\"Select ( Altered_Column , Key_Column_Value , Old_Value , New_Value , Modification_Date , User_Email, Modification_Type, Id ) | Order (columns \u003d [\\\\\\\"Modification_Date\\\\\\\",\\\\\\\"Key_Column_Value\\\\\\\"], sort \u003d [\\\\\\\"desc\\\\\\\"] ) |CollectAll();\\\"},{\\\"name\\\":\\\"Audit_Mods\\\",\\\"query\\\":\\\"Select (UniqueCount(Modification_Date)) | CollectAll();\\\"},{\\\"name\\\":\\\"Audits\\\",\\\"query\\\":\\\"Select ( Modification_Date , User_Email , Modification_Type , Id, Key_Column_Value  ) | Order ( columns \u003d [ \\\\\\\"Modification_Date\\\\\\\" ] , sort \u003d [ \\\\\\\"desc\\\\\\\" ] ) | CollectAll ( )\\\"}],\\\"freeze\\\":false,\\\"loading\\\":true}\u003c/encode\u003e\\\");Panel ( 0 ) | SetPanelLabel (\\\"Audit Log\\\");Panel ( 1 ) | SetPanelLabel (\\\"Audit View\\\");AddPanel(2);Panel(2)|AddPanelConfig(config\u003d[{\\\"config\\\":{\\\"type\\\":\\\"COLLAPSIBLE\\\",\\\"opacity\\\":100,\\\"subType\\\":\\\"\\\"},\\\"label\\\":\\\"User_Email Filter\\\"}]);Panel(2)|SetPanelView(\\\"DashboardFilter\\\");Panel(2)|AddPanelOrnaments({\\\"dashboardFilter\\\":{\\\"singleSelect\\\":\\\"Multi Select\\\",\\\"viewType\\\":\\\"List\\\",\\\"instances\\\":[\\\"User_Email\\\"]}})|RetrievePanelOrnaments(\\\"dashboardFilter\\\");\",    \"label\": \"What are the modifications made to specific column(s)?\",    \"description\": \"\",    \"params\": [      {        \"paramName\": \"Table\",        \"required\": true,        \"useSelectedValues\": true,        \"view\": {          \"displayType\": \"dropdown\",          \"label\": \"Select the Altered Table\",          \"attributes\": {            \"searchable\": true,            \"quickselect\": true          }        },        \"model\": {          \"query\": \"GetDatabaseConcepts(database\u003d[\\\"911bf0e9-0378-45bd-9461-87238e9d3b2f\\\"]);\"        }      },      {        \"paramName\": \"Altered_Column\",        \"required\": true,        \"useSelectedValues\": true,        \"view\": {          \"displayType\": \"checklist\",          \"label\": \"Select the Altered_Column\",          \"attributes\": {            \"searchable\": true,            \"multiple\": true,            \"quickselect\": true          }        },        \"model\": {          \"query\": \"GetSpecificConceptProperties(database\u003d[\\\"911bf0e9-0378-45bd-9461-87238e9d3b2f\\\"], concept\u003d[\u003cTable\u003e]);\",          \"dependsOn\": [            \"Table\"          ]        }      }    ],    \"execute\": \"button\"  }]} \u003c/encode\u003e\" ) ;",
  "engineId": "911bf0e9-0378-45bd-9461-87238e9d3b2f"
}